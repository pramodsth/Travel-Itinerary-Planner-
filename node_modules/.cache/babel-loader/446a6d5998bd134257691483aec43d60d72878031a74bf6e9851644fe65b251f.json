{"ast":null,"code":"import _objectSpread from\"C:/Users/pramo/OneDrive/Desktop/TIP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import LocationAutocomplete from'./LocationAutocomplete';import{categoryColors}from'./utils/categoryColors';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddNewActivityModal(_ref){let{isOpen,onClose,onAddActivity,initialActivity=null}=_ref;const[activity,setActivity]=useState({name:'',description:'',time:'',category:'',location:'',lat:null,lng:null});useEffect(()=>{if(initialActivity){setActivity(initialActivity);}else{setActivity({name:'',description:'',time:'',category:'',location:'',lat:null,lng:null});}},[initialActivity,isOpen]);if(!isOpen)return null;const handleChange=e=>{const{name,value}=e.target;setActivity(p=>_objectSpread(_objectSpread({},p),{},{[name]:value}));};const handlePlaceSelect=place=>{setActivity(p=>_objectSpread(_objectSpread({},p),{},{location:place.address||place.name||'',lat:place.lat,lng:place.lng}));};const handleSubmit=e=>{var _crypto$randomUUID,_crypto;e.preventDefault();if(!activity.name||!activity.location){return alert('Please provide activity name and location.');}onAddActivity(_objectSpread(_objectSpread({},activity),{},{id:activity.id||((_crypto$randomUUID=(_crypto=crypto).randomUUID)===null||_crypto$randomUUID===void 0?void 0:_crypto$randomUUID.call(_crypto))||\"a\".concat(Date.now())}));onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 flex items-center justify-between border-b\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Add Activity\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-600 hover:text-gray-900\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"px-6 py-6 space-y-4\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Name *\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:activity.name,onChange:handleChange,className:\"w-full mt-1 px-3 py-2 rounded-lg bg-gray-100 border border-gray-300\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:activity.description,onChange:handleChange,rows:2,className:\"w-full mt-1 px-3 py-2 rounded-lg bg-gray-100 border border-gray-300 resize-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Time\"}),/*#__PURE__*/_jsx(\"input\",{name:\"time\",type:\"time\",value:activity.time,onChange:handleChange,className:\"w-full mt-1 px-3 py-2 rounded-lg bg-gray-100 border border-gray-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:activity.category,onChange:handleChange,className:\"w-full mt-1 px-3 py-2 rounded-lg bg-gray-100 border border-gray-300\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),Object.keys(categoryColors).map(k=>/*#__PURE__*/_jsx(\"option\",{value:k,children:categoryColors[k].label||k},k))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Location *\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsx(LocationAutocomplete,{onPlaceSelected:handlePlaceSelect,defaultValue:activity.location})}),activity.location&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:activity.location}),activity.lat&&activity.lng&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-400\",children:[\"\\u2022 \",activity.lat.toFixed(4),\",\",activity.lng.toFixed(4)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 pt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 bg-gray-200 rounded-lg\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-black text-white rounded-lg\",children:\"Add\"})]})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","LocationAutocomplete","categoryColors","jsx","_jsx","jsxs","_jsxs","AddNewActivityModal","_ref","isOpen","onClose","onAddActivity","initialActivity","activity","setActivity","name","description","time","category","location","lat","lng","handleChange","e","value","target","p","_objectSpread","handlePlaceSelect","place","address","handleSubmit","_crypto$randomUUID","_crypto","preventDefault","alert","id","crypto","randomUUID","call","concat","Date","now","className","children","onClick","onSubmit","onChange","required","rows","type","Object","keys","map","k","label","onPlaceSelected","defaultValue","toFixed"],"sources":["C:/Users/pramo/OneDrive/Desktop/TIP/src/AddNewActivityModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport LocationAutocomplete from './LocationAutocomplete';\r\nimport { categoryColors } from './utils/categoryColors';\r\n\r\nexport default function AddNewActivityModal({\r\n  isOpen,\r\n  onClose,\r\n  onAddActivity,\r\n  initialActivity = null\r\n}) {\r\n  const [activity, setActivity] = useState({\r\n    name: '',\r\n    description: '',\r\n    time: '',\r\n    category: '',\r\n    location: '',\r\n    lat: null,\r\n    lng: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (initialActivity) {\r\n      setActivity(initialActivity);\r\n    } else {\r\n      setActivity({\r\n        name: '',\r\n        description: '',\r\n        time: '',\r\n        category: '',\r\n        location: '',\r\n        lat: null,\r\n        lng: null,\r\n      });\r\n    }\r\n  }, [initialActivity, isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setActivity((p) => ({ ...p, [name]: value }));\r\n  };\r\n\r\n  const handlePlaceSelect = (place) => {\r\n    setActivity((p) => ({\r\n      ...p,\r\n      location: place.address || place.name || '',\r\n      lat: place.lat,\r\n      lng: place.lng,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!activity.name || !activity.location) {\r\n      return alert('Please provide activity name and location.');\r\n    }\r\n    onAddActivity({\r\n      ...activity,\r\n      id: activity.id || crypto.randomUUID?.() || `a${Date.now()}`,\r\n    });\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden\">\r\n        <div className=\"px-6 py-4 flex items-center justify-between border-b\">\r\n          <h3 className=\"text-lg font-semibold\">Add Activity</h3>\r\n          <button onClick={onClose} className=\"text-gray-600 hover:text-gray-900\">✕</button>\r\n        </div>\r\n\r\n        <form className=\"px-6 py-6 space-y-4\" onSubmit={handleSubmit}>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Name *</label>\r\n            <input\r\n              name=\"name\"\r\n              value={activity.name}\r\n              onChange={handleChange}\r\n              className=\"w-full mt-1 px-3 py-2 rounded-lg bg-gray-100 border border-gray-300\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Description</label>\r\n            <textarea\r\n              name=\"description\"\r\n              value={activity.description}\r\n              onChange={handleChange}\r\n              rows={2}\r\n              className=\"w-full mt-1 px-3 py-2 rounded-lg bg-gray-100 border border-gray-300 resize-none\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-4\">\r\n            <div className=\"flex-1\">\r\n              <label className=\"block text-sm font-medium text-gray-700\">Time</label>\r\n              <input\r\n                name=\"time\"\r\n                type=\"time\"\r\n                value={activity.time}\r\n                onChange={handleChange}\r\n                className=\"w-full mt-1 px-3 py-2 rounded-lg bg-gray-100 border border-gray-300\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex-1\">\r\n              <label className=\"block text-sm font-medium text-gray-700\">Category</label>\r\n              <select\r\n                name=\"category\"\r\n                value={activity.category}\r\n                onChange={handleChange}\r\n                className=\"w-full mt-1 px-3 py-2 rounded-lg bg-gray-100 border border-gray-300\"\r\n              >\r\n                <option value=\"\">Select</option>\r\n                {Object.keys(categoryColors).map((k) => (\r\n                  <option key={k} value={k}>\r\n                    {categoryColors[k].label || k}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Location *</label>\r\n            <div className=\"mt-1\">\r\n              <LocationAutocomplete onPlaceSelected={handlePlaceSelect} defaultValue={activity.location} />\r\n            </div>\r\n            {activity.location && (\r\n              <div className=\"flex items-center gap-2 mt-2\">\r\n                <span className=\"text-sm text-gray-600\">{activity.location}</span>\r\n                {activity.lat && activity.lng && <span className=\"text-xs text-gray-400\">• {activity.lat.toFixed(4)},{activity.lng.toFixed(4)}</span>}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-3 pt-2\">\r\n            <button type=\"button\" onClick={onClose} className=\"px-4 py-2 bg-gray-200 rounded-lg\">Cancel</button>\r\n            <button type=\"submit\" className=\"px-4 py-2 bg-black text-white rounded-lg\">Add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}